# –ü–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏ –º–æ–¥—É Bannerlord Coop Spectator
**–ú–æ–¥ –¥–ª—è –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—ó –≥—Ä–∏ –≤ Mount & Blade II: Bannerlord**

---

## üìã –û–≥–ª—è–¥ –ø—Ä–æ—î–∫—Ç—É

### –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø—Ä–æ—â–µ–Ω–æ–≥–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –º–æ–¥—É —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î:
- **–•–æ—Å—Ç** –≥—Ä–∞—î –∑–≤–∏—á–∞–π–Ω—É —Å–∏–Ω–≥–ø–ª–µ—î—Ä–Ω—É –∫–∞–º–ø–∞–Ω—ñ—é
- **–ö–ª—ñ—î–Ω—Ç–∏** –ø–∞—Å–∏–≤–Ω–æ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—é—Ç—å –∑–∞ –≥—Ä–æ—é —Ö–æ—Å—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç—ñ
- **–£ –±–∏—Ç–≤–∞—Ö** –≤—Å—ñ –∫–ª—ñ—î–Ω—Ç–∏ –ø—Ä–∏—î–¥–Ω—É—é—Ç—å—Å—è —ñ –≥—Ä–∞—é—Ç—å –∑–∞ —é–Ω—ñ—Ç—ñ–≤ –∑ –∞—Ä–º—ñ—ó —Ö–æ—Å—Ç–∞

### –ü–µ—Ä–µ–≤–∞–≥–∏ –ø—ñ–¥—Ö–æ–¥—É
‚úÖ –ù–µ –ª–∞–º–∞—î —ñ—Å–Ω—É—é—á—É –º–µ—Ö–∞–Ω—ñ–∫—É –∫–∞–º–ø–∞–Ω—ñ—ó  
‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä –¥–ª—è –±–∏—Ç–≤  
‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ = –º–µ–Ω—à–µ –±–∞–≥—ñ–≤ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è—Ö  
‚úÖ –ü—Ä–æ—Å—Ç—ñ—à–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω—ñ–∂ –ø–æ–≤–Ω–∏–π –∫–æ–æ–ø  

### –¶—ñ–ª—å–æ–≤–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è
- –ì—Ä–∞–≤—Ü—ñ —è–∫—ñ —Ö–æ—á—É—Ç—å —Ä–∞–∑–æ–º –≥—Ä–∞—Ç–∏ —É –±–∏—Ç–≤–∞—Ö –±–µ–∑ —Å–∫–ª–∞–¥–Ω–æ–≥–æ full coop
- ~45,000 —É—á–∞—Å–Ω–∏–∫—ñ–≤ Discord Bannerlord Coop —è–∫—ñ —á–µ–∫–∞—é—Ç—å —Ä–æ–±–æ—á–∏–π –º–æ–¥
- –î—Ä—É–∑—ñ —è–∫—ñ —Ö–æ—á—É—Ç—å –ø—Ä–æ—Å—Ç–æ "–∑–∞–π—Ç–∏ —ñ –ø–æ–±–∏—Ç–∏—Å—è"

---

## ‚è±Ô∏è –ó–∞–≥–∞–ª—å–Ω–∏–π —Ç–∞–π–º–ª–∞–π–Ω

**–ü—Ä–∏ —Ä–æ–±–æ—Ç—ñ 2-3 –≥–æ–¥–∏–Ω–∏/–¥–µ–Ω—å:**
- **–ú—ñ—Å—è—Ü—ñ 1-2**: –ù–∞–≤—á–∞–Ω–Ω—è + –±–∞–∑–æ–≤–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ú—ñ—Å—è—Ü—ñ 3-4**: Spectator mode + –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ –±–∏—Ç–≤
- **–ú—ñ—Å—è—Ü—ñ 5-6**: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –ø–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è, —Ä–µ–ª—ñ–∑

**–Ü–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞ (6+ –≥–æ–¥–∏–Ω/–¥–µ–Ω—å):**
- **–¢–∏–∂–Ω—ñ 1-4**: –ù–∞–≤—á–∞–Ω–Ω—è + –±–∞–∑–æ–≤–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø
- **–¢–∏–∂–Ω—ñ 5-8**: Spectator + battle integration
- **–¢–∏–∂–Ω—ñ 9-12**: –†–µ–ª—ñ–∑ –≥–æ—Ç–æ–≤–æ—ó –≤–µ—Ä—Å—ñ—ó

---

## üéØ –î–µ—Ç–∞–ª—å–Ω–∞ —Ä–æ–∑–±–∏–≤–∫–∞ –ø–æ –µ—Ç–∞–ø–∞—Ö

---

## –ï–¢–ê–ü 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–∞ –Ω–∞–≤—á–∞–Ω–Ω—è (2-4 —Ç–∏–∂–Ω—ñ)

### –¢–∏–∂–¥–µ–Ω—å 1-2: –í–∏–≤—á–µ–Ω–Ω—è –æ—Å–Ω–æ–≤

#### 1.1 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ä–æ–∑—Ä–æ–±–∫–∏
**–ß–∞—Å: 4-6 –≥–æ–¥–∏–Ω**

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏:**
```
‚úì Visual Studio 2022 Community (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞)
‚úì .NET SDK 6.0+
‚úì Bannerlord –≥—Ä–∞ (Steam)
‚úì Vortex Mod Manager –∞–±–æ —Ä—É—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥—ñ–≤
```

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É:**
```
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–ø–∫—É –ø—Ä–æ—î–∫—Ç—É: BannerlordCoopSpectator/
2. –î–æ–¥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ DLL –≥—Ä–∏:
   - TaleWorlds.Core.dll
   - TaleWorlds.MountAndBlade.dll
   - TaleWorlds.CampaignSystem.dll
   - TaleWorlds.Library.dll
3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é –≤ –ø–∞–ø–∫—É –º–æ–¥—ñ–≤ Bannerlord
```

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è Cursor:**
```
"Create C# project structure for Bannerlord mod"
"Show me how to reference Bannerlord DLL files"
"Generate SubModule.xml template for Bannerlord"
```

#### 1.2 –ü–µ—Ä—à–∏–π "Hello World" –º–æ–¥
**–ß–∞—Å: 6-8 –≥–æ–¥–∏–Ω**

**–ó–∞–≤–¥–∞–Ω–Ω—è:**
–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–¥ —è–∫–∏–π –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–ª–∏ –≥—Ä–∞–≤–µ—Ü—å –≤—Ö–æ–¥–∏—Ç—å —É –±–∏—Ç–≤—É.

**–§–∞–π–ª–∏ —è–∫—ñ —Ç—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏:**

**SubModule.xml** (–∫–æ—Ä–µ–Ω–µ–≤–∏–π —Ñ–∞–π–ª –º–æ–¥—É):
```xml
<Module>
  <Name value="Coop Spectator"/>
  <Id value="CoopSpectator"/>
  <Version value="v1.0.0"/>
  <SingleplayerModule value="true"/>
  <MultiplayerModule value="false"/>
  <DependedModules>
    <DependedModule Id="Native"/>
    <DependedModule Id="SandBoxCore"/>
    <DependedModule Id="Sandbox"/>
    <DependedModule Id="StoryMode"/>
  </DependedModules>
  <SubModules>
    <SubModule>
      <Name value="CoopSpectator"/>
      <DLLName value="CoopSpectator.dll"/>
      <SubModuleClassType value="CoopSpectator.SubModule"/>
      <Tags>
        <Tag key="DedicatedServerType" value="none"/>
      </Tags>
    </SubModule>
  </SubModules>
</Module>
```

**SubModule.cs** (–≥–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å –º–æ–¥—É):
```csharp
using TaleWorlds.Core;
using TaleWorlds.MountAndBlade;
using TaleWorlds.CampaignSystem;
using TaleWorlds.Library;

namespace CoopSpectator
{
    public class SubModule : MBSubModuleBase
    {
        protected override void OnSubModuleLoad()
        {
            base.OnSubModuleLoad();
            InformationManager.DisplayMessage(
                new InformationMessage("Coop Spectator mod loaded!")
            );
        }
        
        protected override void OnGameStart(Game game, IGameStarter gameStarterObject)
        {
            base.OnGameStart(game, gameStarterObject);
            
            if (game.GameType is Campaign)
            {
                CampaignGameStarter starter = (CampaignGameStarter)gameStarterObject;
                // –¢—É—Ç –±—É–¥–µ–º–æ –¥–æ–¥–∞–≤–∞—Ç–∏ behaviours –ø—ñ–∑–Ω—ñ—à–µ
            }
        }
    }
}
```

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
1. –°–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ –º–æ–¥
2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Bannerlord
3. –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –º–æ–¥ —É Launcher
4. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–∞–º–ø–∞–Ω—ñ—é
5. –ü–æ–±–∞—á–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "Coop Spectator mod loaded!"

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è Cursor:**
```
"How to detect battle start in Bannerlord using Harmony"
"Create Bannerlord behavior that logs when player enters mission"
"Show me Bannerlord Mission lifecycle events"
```

#### 1.3 –í–∏–≤—á–µ–Ω–Ω—è Bannerlord API
**–ß–∞—Å: 10-12 –≥–æ–¥–∏–Ω**

**–ö–ª—é—á–æ–≤—ñ –∫–ª–∞—Å–∏ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è:**

**Campaign —Å–∏—Å—Ç–µ–º–∞:**
```csharp
Campaign.Current                    // –ü–æ—Ç–æ—á–Ω–∞ –∫–∞–º–ø–∞–Ω—ñ—è
Campaign.Current.MainParty          // –ê—Ä–º—ñ—è –≥—Ä–∞–≤—Ü—è
Hero.MainHero                       // –ü–µ—Ä—Å–æ–Ω–∞–∂ –≥—Ä–∞–≤—Ü—è
MobileParty.MainParty.Position2D    // –ü–æ–∑–∏—Ü—ñ—è –Ω–∞ –∫–∞—Ä—Ç—ñ
```

**Mission (–±–∏—Ç–≤–∞) —Å–∏—Å—Ç–µ–º–∞:**
```csharp
Mission.Current                     // –ü–æ—Ç–æ—á–Ω–∞ –º—ñ—Å—ñ—è (–±–∏—Ç–≤–∞)
Mission.OnMissionModeChange         // –ü–æ–¥—ñ—è –∑–º—ñ–Ω–∏ —Ä–µ–∂–∏–º—É –º—ñ—Å—ñ—ó
Agent.Main                          // –ê–≥–µ–Ω—Ç (–ø–µ—Ä—Å–æ–Ω–∞–∂) –≥—Ä–∞–≤—Ü—è
Mission.Agents                      // –í—Å—ñ –∞–≥–µ–Ω—Ç–∏ —É –±–∏—Ç–≤—ñ
```

**Networking:**
```csharp
GameNetwork.IsServer                // –ß–∏ —î —Å–µ—Ä–≤–µ—Ä–æ–º?
GameNetwork.IsClient                // –ß–∏ —î –∫–ª—ñ—î–Ω—Ç–æ–º?
GameNetwork.NetworkPeers            // –ü—ñ–¥–∫–ª—é—á–µ–Ω—ñ –≥—Ä–∞–≤—Ü—ñ
```

**–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –≤–ø—Ä–∞–≤–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ behavior —è–∫–∏–π –ª–æ–≥—É—î –ø–æ–∑–∏—Ü—ñ—é –≥—Ä–∞–≤—Ü—è –∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–¥ —è–∫–∏–π –≤–∏—Ç—è–≥—É—î —Å–∫–ª–∞–¥ –∞—Ä–º—ñ—ó –≥—Ä–∞–≤—Ü—è
3. –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –ø–æ–¥—ñ—ó –≤—Ö–æ–¥—É/–≤–∏—Ö–æ–¥—É –∑ –±–∏—Ç–≤–∏

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è Cursor:**
```
"Bannerlord CampaignBehaviorBase example"
"How to get player party troops in Bannerlord"
"Bannerlord Mission events documentation"
```

### –¢–∏–∂–¥–µ–Ω—å 3-4: –ë–∞–∑–æ–≤–∏–π networking

#### 1.4 –ü—Ä–æ—Å—Ç–∏–π TCP —Å–µ—Ä–≤–µ—Ä/–∫–ª—ñ—î–Ω—Ç
**–ß–∞—Å: 12-15 –≥–æ–¥–∏–Ω**

**–ó–∞–≤–¥–∞–Ω–Ω—è:**
–°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π –º–µ—Ä–µ–∂–µ–≤–∏–π –∫–æ–¥ —è–∫–∏–π –º–æ–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –¥–∞–Ω—ñ –º—ñ–∂ –¥–≤–æ–º–∞ Bannerlord –∫–ª—ñ—î–Ω—Ç–∞–º–∏.

**–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:**
```
[–•–æ—Å—Ç Bannerlord] ‚Üê‚Üí [TCP Server] ‚Üê‚Üí [TCP Client] ‚Üê‚Üí [–ö–ª—ñ—î–Ω—Ç Bannerlord]
```

**NetworkManager.cs:**
```csharp
using System;
using System.Net;
using System.Net.Sockets;
using System.Text;
using System.Threading;

namespace CoopSpectator.Network
{
    public class NetworkManager
    {
        private TcpListener _server;
        private TcpClient _client;
        private NetworkStream _stream;
        private Thread _listenThread;
        private bool _isRunning = false;
        
        // –•–æ—Å—Ç —Å—Ç–≤–æ—Ä—é—î —Å–µ—Ä–≤–µ—Ä
        public void StartServer(int port = 7777)
        {
            _server = new TcpListener(IPAddress.Any, port);
            _server.Start();
            _isRunning = true;
            
            _listenThread = new Thread(AcceptClients);
            _listenThread.Start();
            
            InformationManager.DisplayMessage(
                new InformationMessage($"Server started on port {port}")
            );
        }
        
        private void AcceptClients()
        {
            while (_isRunning)
            {
                try
                {
                    TcpClient client = _server.AcceptTcpClient();
                    Thread clientThread = new Thread(() => HandleClient(client));
                    clientThread.Start();
                }
                catch (Exception ex)
                {
                    // Log error
                }
            }
        }
        
        private void HandleClient(TcpClient client)
        {
            NetworkStream stream = client.GetStream();
            byte[] buffer = new byte[1024];
            
            while (_isRunning)
            {
                try
                {
                    int bytesRead = stream.Read(buffer, 0, buffer.Length);
                    if (bytesRead > 0)
                    {
                        string message = Encoding.UTF8.GetString(buffer, 0, bytesRead);
                        OnMessageReceived(message);
                    }
                }
                catch (Exception ex)
                {
                    break;
                }
            }
        }
        
        // –ö–ª—ñ—î–Ω—Ç –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ —Ö–æ—Å—Ç–∞
        public void ConnectToServer(string ip, int port = 7777)
        {
            try
            {
                _client = new TcpClient(ip, port);
                _stream = _client.GetStream();
                _isRunning = true;
                
                _listenThread = new Thread(ReceiveMessages);
                _listenThread.Start();
                
                InformationManager.DisplayMessage(
                    new InformationMessage($"Connected to {ip}:{port}")
                );
            }
            catch (Exception ex)
            {
                InformationManager.DisplayMessage(
                    new InformationMessage($"Failed to connect: {ex.Message}")
                );
            }
        }
        
        private void ReceiveMessages()
        {
            byte[] buffer = new byte[1024];
            
            while (_isRunning)
            {
                try
                {
                    int bytesRead = _stream.Read(buffer, 0, buffer.Length);
                    if (bytesRead > 0)
                    {
                        string message = Encoding.UTF8.GetString(buffer, 0, bytesRead);
                        OnMessageReceived(message);
                    }
                }
                catch (Exception ex)
                {
                    break;
                }
            }
        }
        
        // –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        public void SendMessage(string message)
        {
            try
            {
                byte[] data = Encoding.UTF8.GetBytes(message);
                _stream?.Write(data, 0, data.Length);
            }
            catch (Exception ex)
            {
                // Log error
            }
        }
        
        private void OnMessageReceived(string message)
        {
            // –¢—É—Ç –±—É–¥–µ–º–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
            InformationManager.DisplayMessage(
                new InformationMessage($"Received: {message}")
            );
        }
        
        public void Shutdown()
        {
            _isRunning = false;
            _stream?.Close();
            _client?.Close();
            _server?.Stop();
        }
    }
}
```

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è networking:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–≤—ñ –∫–æ–ø—ñ—ó Bannerlord
2. –ù–∞ –æ–¥–Ω—ñ–π –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ "Host Server" (–∫–æ–Ω—Å–æ–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞)
3. –ù–∞ –¥—Ä—É–≥—ñ–π "Connect to 127.0.0.1"
4. –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤–æ–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–µ

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è Cursor:**
```
"Add JSON serialization to C# TCP networking"
"Create message protocol for game state sync"
"Handle TCP connection errors and reconnection"
```

---

## –ï–¢–ê–ü 2: Spectator Mode (2-3 —Ç–∏–∂–Ω—ñ)

### 2.1 Broadcaster - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö —Ö–æ—Å—Ç–∞
**–ß–∞—Å: 8-10 –≥–æ–¥–∏–Ω**

**–ó–∞–≤–¥–∞–Ω–Ω—è:**
–•–æ—Å—Ç –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î —Å–≤—ñ–π —Å—Ç–∞–Ω –∫–ª—ñ—î–Ω—Ç–∞–º.

**HostStateBroadcaster.cs:**
```csharp
using System;
using TaleWorlds.CampaignSystem;
using TaleWorlds.Core;
using Newtonsoft.Json;

namespace CoopSpectator.Campaign
{
    public class HostStateBroadcaster : CampaignBehaviorBase
    {
        private NetworkManager _network;
        private float _lastBroadcastTime = 0f;
        private const float BROADCAST_INTERVAL = 2.0f; // —Å–µ–∫—É–Ω–¥–∏
        
        public HostStateBroadcaster(NetworkManager network)
        {
            _network = network;
        }
        
        public override void RegisterEvents()
        {
            CampaignEvents.HourlyTickEvent.AddNonSerializedListener(this, OnHourlyTick);
        }
        
        public override void SyncData(IDataStore dataStore)
        {
            // –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
        }
        
        private void OnHourlyTick()
        {
            float currentTime = Campaign.CurrentTime;
            
            if (currentTime - _lastBroadcastTime >= BROADCAST_INTERVAL)
            {
                BroadcastState();
                _lastBroadcastTime = currentTime;
            }
        }
        
        private void BroadcastState()
        {
            var state = new HostGameState
            {
                Position = new Vector2D
                {
                    X = MobileParty.MainParty.Position2D.X,
                    Y = MobileParty.MainParty.Position2D.Y
                },
                CurrentAction = GetCurrentAction(),
                ArmySize = MobileParty.MainParty.MemberRoster.TotalManCount,
                TimeOfDay = Campaign.CurrentTime % 24,
                InBattle = Mission.Current != null
            };
            
            string json = JsonConvert.SerializeObject(state);
            _network.SendMessage("STATE:" + json);
        }
        
        private string GetCurrentAction()
        {
            if (Mission.Current != null)
                return "IN_BATTLE";
            
            if (MobileParty.MainParty.CurrentSettlement != null)
                return "IN_SETTLEMENT";
            
            if (MobileParty.MainParty.IsMoving)
                return "TRAVELING";
            
            return "IDLE";
        }
    }
    
    [Serializable]
    public class HostGameState
    {
        public Vector2D Position { get; set; }
        public string CurrentAction { get; set; }
        public int ArmySize { get; set; }
        public float TimeOfDay { get; set; }
        public bool InBattle { get; set; }
    }
    
    [Serializable]
    public class Vector2D
    {
        public float X { get; set; }
        public float Y { get; set; }
    }
}
```

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ SubModule:**
```csharp
protected override void OnGameStart(Game game, IGameStarter gameStarterObject)
{
    if (game.GameType is Campaign)
    {
        CampaignGameStarter starter = (CampaignGameStarter)gameStarterObject;
        
        if (IsHosting) // –î–æ–¥–∞—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å
        {
            starter.AddBehavior(new HostStateBroadcaster(_networkManager));
        }
    }
}
```

### 2.2 Spectator UI - –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
**–ß–∞—Å: 12-15 –≥–æ–¥–∏–Ω**

**–ó–∞–≤–¥–∞–Ω–Ω—è:**
–°—Ç–≤–æ—Ä–∏—Ç–∏ UI —è–∫–∏–π –ø–æ–∫–∞–∑—É—î –∫–∞—Ä—Ç—É —ñ –ø–æ–∑–∏—Ü—ñ—é —Ö–æ—Å—Ç–∞.

**SpectatorMapView.cs:**
```csharp
using TaleWorlds.Engine.GauntletUI;
using TaleWorlds.GauntletUI.Data;
using TaleWorlds.Library;

namespace CoopSpectator.UI
{
    public class SpectatorMapView : ViewModel
    {
        private float _hostX;
        private float _hostY;
        private string _hostAction;
        private int _armySize;
        
        [DataSourceProperty]
        public float HostX
        {
            get => _hostX;
            set
            {
                if (_hostX != value)
                {
                    _hostX = value;
                    OnPropertyChangedWithValue(value, "HostX");
                }
            }
        }
        
        [DataSourceProperty]
        public float HostY
        {
            get => _hostY;
            set
            {
                if (_hostY != value)
                {
                    _hostY = value;
                    OnPropertyChangedWithValue(value, "HostY");
                }
            }
        }
        
        [DataSourceProperty]
        public string HostAction
        {
            get => _hostAction;
            set
            {
                if (_hostAction != value)
                {
                    _hostAction = value;
                    OnPropertyChangedWithValue(value, "HostAction");
                }
            }
        }
        
        [DataSourceProperty]
        public int ArmySize
        {
            get => _armySize;
            set
            {
                if (_armySize != value)
                {
                    _armySize = value;
                    OnPropertyChangedWithValue(value, "ArmySize");
                }
            }
        }
        
        public void UpdateFromState(HostGameState state)
        {
            HostX = state.Position.X;
            HostY = state.Position.Y;
            HostAction = state.CurrentAction;
            ArmySize = state.ArmySize;
        }
    }
}
```

**SpectatorBehavior.cs:**
```csharp
using TaleWorlds.CampaignSystem;
using Newtonsoft.Json;

namespace CoopSpectator.Campaign
{
    public class SpectatorBehavior : CampaignBehaviorBase
    {
        private NetworkManager _network;
        private SpectatorMapView _mapView;
        
        public SpectatorBehavior(NetworkManager network)
        {
            _network = network;
            _network.OnMessageReceived += HandleMessage;
            _mapView = new SpectatorMapView();
        }
        
        private void HandleMessage(string message)
        {
            if (message.StartsWith("STATE:"))
            {
                string json = message.Substring(6);
                HostGameState state = JsonConvert.DeserializeObject<HostGameState>(json);
                _mapView.UpdateFromState(state);
                
                // –Ø–∫—â–æ —Ö–æ—Å—Ç –≤—Å—Ç—É–ø–∏–≤ —É –±–∏—Ç–≤—É - –≥–æ—Ç—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                if (state.InBattle)
                {
                    InformationManager.DisplayMessage(
                        new InformationMessage("Host entering battle! Prepare to join...")
                    );
                }
            }
        }
        
        public override void RegisterEvents()
        {
            // –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –ø–æ–¥—ñ—ó —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
        }
        
        public override void SyncData(IDataStore dataStore)
        {
        }
    }
}
```

### 2.3 –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
**–ß–∞—Å: 4-6 –≥–æ–¥–∏–Ω**

**–ó–∞–≤–¥–∞–Ω–Ω—è:**
–ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞–º –∫–µ—Ä—É–≤–∞—Ç–∏ –≥—Ä–æ—é –Ω–∞ –∫–∞—Ä—Ç—ñ.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Harmony –¥–ª—è –ø–∞—Ç—á–∏–Ω–≥—É:**
```csharp
using HarmonyLib;
using TaleWorlds.CampaignSystem;

namespace CoopSpectator.Patches
{
    [HarmonyPatch(typeof(PlayerTownVisitCampaignBehavior))]
    [HarmonyPatch("game_menu_town_menu_on_init")]
    public class BlockTownMenuPatch
    {
        static bool Prefix()
        {
            // –Ø–∫—â–æ –∫–ª—ñ—î–Ω—Ç —É spectator mode - –±–ª–æ–∫—É–≤–∞—Ç–∏
            if (CoopManager.Instance.IsSpectating)
            {
                InformationManager.DisplayMessage(
                    new InformationMessage("You are spectating. Only host can control the campaign.")
                );
                return false; // –°–∫–∞—Å—É–≤–∞—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥
            }
            return true; // –î–æ–∑–≤–æ–ª–∏—Ç–∏ —è–∫—â–æ —Ö–æ—Å—Ç
        }
    }
    
    // –ë–ª–æ–∫—É–≤–∞—Ç–∏ —Ä—É—Ö –ø–∞—Ä—Ç—ñ—ó
    [HarmonyPatch(typeof(MobileParty))]
    [HarmonyPatch("SetMoveGoToPoint")]
    public class BlockPartyMovementPatch
    {
        static bool Prefix()
        {
            if (CoopManager.Instance.IsSpectating)
            {
                return false;
            }
            return true;
        }
    }
}
```

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Harmony –≤ SubModule:**
```csharp
using HarmonyLib;

protected override void OnSubModuleLoad()
{
    base.OnSubModuleLoad();
    
    var harmony = new Harmony("com.coopspectator.mod");
    harmony.PatchAll();
}
```

---

## –ï–¢–ê–ü 3: Battle Integration (4-6 —Ç–∏–∂–Ω—ñ–≤)

### 3.1 –î–µ—Ç–µ–∫—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É –±–∏—Ç–≤–∏ —É —Ö–æ—Å—Ç–∞
**–ß–∞—Å: 6-8 –≥–æ–¥–∏–Ω**

**BattleDetector.cs:**
```csharp
using TaleWorlds.CampaignSystem;
using TaleWorlds.Core;
using TaleWorlds.MountAndBlade;

namespace CoopSpectator.Campaign
{
    public class BattleDetector : CampaignBehaviorBase
    {
        private NetworkManager _network;
        private bool _inBattle = false;
        
        public BattleDetector(NetworkManager network)
        {
            _network = network;
        }
        
        public override void RegisterEvents()
        {
            CampaignEvents.OnSessionLaunchedEvent.AddNonSerializedListener(this, OnSessionLaunched);
        }
        
        private void OnSessionLaunched(CampaignGameStarter starter)
        {
            // –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –ø–æ–¥—ñ—ó –º—ñ—Å—ñ—ó
        }
        
        public override void SyncData(IDataStore dataStore)
        {
        }
        
        // –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º —É –±–∏—Ç–≤—É
        [CommandLineFunctionality.CommandLineArgumentFunction("battle_starting", "coop")]
        public static string OnBattleStarting(List<string> args)
        {
            // –°–ø–æ–≤—ñ—Å—Ç–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤
            BattleStartMessage message = new BattleStartMessage
            {
                MapScene = Campaign.Current.MapSceneWrapper.GetMapSceneName(),
                PlayerSide = PlayerEncounter.Battle.PlayerSide,
                Troops = GetPartyTroops()
            };
            
            string json = JsonConvert.SerializeObject(message);
            NetworkManager.Instance.SendMessage("BATTLE_START:" + json);
            
            return "Battle invitation sent to clients";
        }
        
        private static List<TroopInfo> GetPartyTroops()
        {
            List<TroopInfo> troops = new List<TroopInfo>();
            
            foreach (var element in MobileParty.MainParty.MemberRoster.GetTroopRoster())
            {
                for (int i = 0; i < element.Number; i++)
                {
                    troops.Add(new TroopInfo
                    {
                        CharacterId = element.Character.StringId,
                        TroopName = element.Character.Name.ToString(),
                        Tier = element.Character.Tier,
                        IsMounted = element.Character.IsMounted,
                        IsHero = element.Character.IsHero
                    });
                }
            }
            
            return troops;
        }
    }
    
    [Serializable]
    public class BattleStartMessage
    {
        public string MapScene { get; set; }
        public BattleSideEnum PlayerSide { get; set; }
        public List<TroopInfo> Troops { get; set; }
    }
    
    [Serializable]
    public class TroopInfo
    {
        public string CharacterId { get; set; }
        public string TroopName { get; set; }
        public int Tier { get; set; }
        public bool IsMounted { get; set; }
        public bool IsHero { get; set; }
    }
}
```

### 3.2 –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–Ω—É –±–∏—Ç–≤—É
**–ß–∞—Å: 15-20 –≥–æ–¥–∏–Ω** (–Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∞ —á–∞—Å—Ç–∏–Ω–∞!)

**MissionConverter.cs:**
```csharp
using TaleWorlds.Core;
using TaleWorlds.MountAndBlade;
using TaleWorlds.Engine;

namespace CoopSpectator.Mission
{
    public class MissionConverter
    {
        // –í–∑—è—Ç–∏ –ø–æ—Ç–æ—á–Ω—É —Å–∏–Ω–≥–ø–ª–µ—î—Ä–Ω—É –º—ñ—Å—ñ—é —ñ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ —É MP
        public static void ConvertToMultiplayer()
        {
            // 1. –ó–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞–Ω –ø–æ—Ç–æ—á–Ω–æ—ó –±–∏—Ç–≤–∏
            Mission currentMission = Mission.Current;
            if (currentMission == null)
            {
                InformationManager.DisplayMessage(
                    new InformationMessage("No active battle to convert")
                );
                return;
            }
            
            // 2. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º—ñ—Å—ñ—ó
            string sceneName = currentMission.SceneName;
            string missionName = currentMission.Name;
            
            // 3. –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Å–∏–Ω–≥–ø–ª–µ—î—Ä–Ω—É –º—ñ—Å—ñ—é
            currentMission.EndMission();
            
            // 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–Ω—É –º—ñ—Å—ñ—é –∑ —Ç–∏–º–∏ –∂ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
            MissionInitializerRecord initRecord = new MissionInitializerRecord(sceneName);
            initRecord.PlayingInCampaignMode = false; // MP —Ä–µ–∂–∏–º
            initRecord.DoNotUseLoadingScreen = false;
            
            // 5. –î–æ–¥–∞—Ç–∏ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–Ω—ñ behaviors
            // –¶–µ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∞ —á–∞—Å—Ç–∏–Ω–∞ - —Ç—Ä–µ–±–∞ –≤–∏–≤—á–∏—Ç–∏ —è–∫ –ø—Ä–∞—Ü—é—î MP —Å–∏—Å—Ç–µ–º–∞
        }
    }
}
```

**–ü–†–ò–ú–Ü–¢–ö–ê:** –¶—è —á–∞—Å—Ç–∏–Ω–∞ –ø–æ—Ç—Ä–µ–±—É—î –≥–ª–∏–±–æ–∫–æ–≥–æ –≤–∏–≤—á–µ–Ω–Ω—è —Ç–æ–≥–æ —è–∫ Bannerlord —Å—Ç–≤–æ—Ä—é—î MP –±–∏—Ç–≤–∏. –î–æ–≤–µ–¥–µ—Ç—å—Å—è:
1. –í–∏–≤—á–∏—Ç–∏ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–Ω–∏—Ö –º–æ–¥—ñ–≤
2. –ó—Ä–æ–∑—É–º—ñ—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ SP —ñ MP missions
3. –ù–∞–≤—á–∏—Ç–∏—Å—è —Å–ø–∞–≤–Ω–∏—Ç–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è Cursor:**
```
"Bannerlord how to create multiplayer mission from code"
"Difference between Campaign Mission and Multiplayer Mission"
"Bannerlord Agent spawning in custom missions"
```

### 3.3 –ú–µ–Ω—é –≤–∏–±–æ—Ä—É —é–Ω—ñ—Ç–∞ –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
**–ß–∞—Å: 10-12 –≥–æ–¥–∏–Ω**

**TroopSelectionUI.cs:**
```csharp
using TaleWorlds.Library;
using System.Collections.Generic;

namespace CoopSpectator.UI
{
    public class TroopSelectionVM : ViewModel
    {
        private MBBindingList<TroopCardVM> _availableTroops;
        private TroopCardVM _selectedTroop;
        
        [DataSourceProperty]
        public MBBindingList<TroopCardVM> AvailableTroops
        {
            get => _availableTroops;
            set
            {
                if (_availableTroops != value)
                {
                    _availableTroops = value;
                    OnPropertyChangedWithValue(value, "AvailableTroops");
                }
            }
        }
        
        [DataSourceProperty]
        public TroopCardVM SelectedTroop
        {
            get => _selectedTroop;
            set
            {
                if (_selectedTroop != value)
                {
                    _selectedTroop = value;
                    OnPropertyChangedWithValue(value, "SelectedTroop");
                }
            }
        }
        
        public TroopSelectionVM(List<TroopInfo> troops)
        {
            AvailableTroops = new MBBindingList<TroopCardVM>();
            
            foreach (var troop in troops)
            {
                AvailableTroops.Add(new TroopCardVM(troop, OnTroopSelected));
            }
        }
        
        private void OnTroopSelected(TroopCardVM troop)
        {
            SelectedTroop = troop;
        }
        
        public void ConfirmSelection()
        {
            if (SelectedTroop != null)
            {
                // –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –≤–∏–±—ñ—Ä —Å–µ—Ä–≤–µ—Ä—É
                NetworkManager.Instance.SendMessage(
                    $"TROOP_SELECTED:{SelectedTroop.TroopId}"
                );
            }
        }
    }
    
    public class TroopCardVM : ViewModel
    {
        private string _troopName;
        private int _tier;
        private bool _isSelected;
        private Action<TroopCardVM> _onSelect;
        
        public string TroopId { get; }
        
        [DataSourceProperty]
        public string TroopName
        {
            get => _troopName;
            set
            {
                if (_troopName != value)
                {
                    _troopName = value;
                    OnPropertyChangedWithValue(value, "TroopName");
                }
            }
        }
        
        [DataSourceProperty]
        public int Tier
        {
            get => _tier;
            set
            {
                if (_tier != value)
                {
                    _tier = value;
                    OnPropertyChangedWithValue(value, "Tier");
                }
            }
        }
        
        [DataSourceProperty]
        public bool IsSelected
        {
            get => _isSelected;
            set
            {
                if (_isSelected != value)
                {
                    _isSelected = value;
                    OnPropertyChangedWithValue(value, "IsSelected");
                }
            }
        }
        
        public TroopCardVM(TroopInfo troop, Action<TroopCardVM> onSelect)
        {
            TroopId = troop.CharacterId;
            TroopName = troop.TroopName;
            Tier = troop.Tier;
            _onSelect = onSelect;
        }
        
        public void ExecuteSelect()
        {
            _onSelect?.Invoke(this);
        }
    }
}
```

### 3.4 Spawn system - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–≥–µ–Ω—Ç—ñ–≤ –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
**–ß–∞—Å: 12-15 –≥–æ–¥–∏–Ω**

**ClientAgentSpawner.cs:**
```csharp
using TaleWorlds.Core;
using TaleWorlds.MountAndBlade;
using TaleWorlds.Library;

namespace CoopSpectator.Mission
{
    public class ClientAgentSpawner : MissionLogic
    {
        private Dictionary<NetworkCommunicator, Agent> _clientAgents;
        
        public ClientAgentSpawner()
        {
            _clientAgents = new Dictionary<NetworkCommunicator, Agent>();
        }
        
        public override void AfterStart()
        {
            base.AfterStart();
            
            // –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –ø–æ–¥—ñ—ó –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
            GameNetwork.AddNetworkHandler(this);
        }
        
        // –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∫–æ–ª–∏ –∫–ª—ñ—î–Ω—Ç –≤–∏–±—Ä–∞–≤ —é–Ω—ñ—Ç–∞
        public void SpawnAgentForClient(NetworkCommunicator client, string troopId)
        {
            // 1. –ó–Ω–∞–π—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π character
            BasicCharacterObject character = Game.Current.ObjectManager
                .GetObject<BasicCharacterObject>(troopId);
            
            if (character == null)
            {
                Debug.Print($"Character {troopId} not found!");
                return;
            }
            
            // 2. –í–∏–∑–Ω–∞—á–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É (—Ö–æ—Å—Ç –∑–∞–≤–∂–¥–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ –≥—Ä–∞–≤—Ü—è)
            Team team = Mission.PlayerTeam;
            
            // 3. –ó–Ω–∞–π—Ç–∏ spawn point
            MatrixFrame spawnFrame = GetSpawnFrame(team);
            
            // 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ –µ–∫—ñ–ø—ñ—Ä–æ–≤–∫—É
            Equipment equipment = character.Equipment.Clone();
            
            // 5. Spawn agent
            AgentBuildData buildData = new AgentBuildData(character)
                .Team(team)
                .InitialPosition(in spawnFrame.origin)
                .InitialDirection(in spawnFrame.rotation.f)
                .Equipment(equipment)
                .Controller(Agent.ControllerType.Player)
                .OwningAgentNetworkPeer(client);
            
            Agent agent = Mission.Current.SpawnAgent(buildData);
            
            // 6. –ó–±–µ—Ä–µ–≥—Ç–∏ reference
            _clientAgents[client] = agent;
            
            InformationManager.DisplayMessage(
                new InformationMessage($"Client spawned as {character.Name}")
            );
        }
        
        private MatrixFrame GetSpawnFrame(Team team)
        {
            // –ó–Ω–∞–π—Ç–∏ spawn —Ç–æ—á–∫—É –¥–ª—è –∫–æ–º–∞–Ω–¥–∏
            GameEntity spawnEntity = Mission.Scene.FindEntityWithTag("sp_player");
            
            if (spawnEntity != null)
            {
                return spawnEntity.GetGlobalFrame();
            }
            
            // Fallback - spawn –±—ñ–ª—è —Ö–æ—Å—Ç–∞
            if (Agent.Main != null)
            {
                Vec3 pos = Agent.Main.Position;
                pos.x += MBRandom.RandomFloatRanged(-5f, 5f);
                pos.y += MBRandom.RandomFloatRanged(-5f, 5f);
                
                return new MatrixFrame(Mat3.Identity, pos);
            }
            
            return MatrixFrame.Identity;
        }
        
        public override void OnAgentRemoved(
            Agent affectedAgent,
            Agent affectorAgent,
            AgentState agentState,
            KillingBlow blow)
        {
            // –û–±—Ä–æ–±–∏—Ç–∏ —Å–º–µ—Ä—Ç—å –∞–≥–µ–Ω—Ç–∞ –∫–ª—ñ—î–Ω—Ç–∞
            if (_clientAgents.ContainsValue(affectedAgent))
            {
                // –ú–æ–∂–Ω–∞ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ä–µ—Å–ø–∞–≤–Ω –∞–±–æ –ø–æ–∫–∞–∑–∞—Ç–∏ –µ–∫—Ä–∞–Ω —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è
            }
        }
    }
}
```

### 3.5 –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ spectator mode –ø—ñ—Å–ª—è –±–∏—Ç–≤–∏
**–ß–∞—Å: 6-8 –≥–æ–¥–∏–Ω**

**BattleEndHandler.cs:**
```csharp
using TaleWorlds.MountAndBlade;

namespace CoopSpectator.Mission
{
    public class BattleEndHandler : MissionLogic
    {
        private NetworkManager _network;
        
        public BattleEndHandler(NetworkManager network)
        {
            _network = network;
        }
        
        public override void OnMissionResultReady(MissionResult missionResult)
        {
            base.OnMissionResultReady(missionResult);
            
            // –°–ø–æ–≤—ñ—Å—Ç–∏—Ç–∏ –≤—Å—ñ—Ö —â–æ –±–∏—Ç–≤–∞ –∑–∞–∫—ñ–Ω—á–∏–ª–∞—Å—è
            BattleEndMessage message = new BattleEndMessage
            {
                Victory = missionResult.BattleResolved && 
                         missionResult.PlayerVictory,
                CasualtiesDealt = missionResult.EnemyCasualties,
                CasualtiesTaken = missionResult.PlayerCasualties
            };
            
            string json = JsonConvert.SerializeObject(message);
            _network.SendMessage("BATTLE_END:" + json);
        }
        
        public override void OnMissionDeactivate()
        {
            base.OnMissionDeactivate();
            
            // –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ campaign map
            // –ö–ª—ñ—î–Ω—Ç–∏ –∑–Ω–æ–≤—É —Å—Ç–∞—é—Ç—å —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á–∞–º–∏
        }
    }
    
    [Serializable]
    public class BattleEndMessage
    {
        public bool Victory { get; set; }
        public int CasualtiesDealt { get; set; }
        public int CasualtiesTaken { get; set; }
    }
}
```

---

## –ï–¢–ê–ü 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è (2-4 —Ç–∏–∂–Ω—ñ)

### 4.1 –ë–∞–∑–æ–≤–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
**–ß–∞—Å: 10-15 –≥–æ–¥–∏–Ω**

**–¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**

1. **–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è/–≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:**
   - [ ] –•–æ—Å—Ç –º–æ–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
   - [ ] –ö–ª—ñ—î–Ω—Ç –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è
   - [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±–µ–∑ –∫—Ä–∞—à—É
   - [ ] Reconnect –ø—ñ—Å–ª—è –æ–±—Ä–∏–≤—É –∑'—î–¥–Ω–∞–Ω–Ω—è

2. **Spectator mode:**
   - [ ] –ö–ª—ñ—î–Ω—Ç –±–∞—á–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—é —Ö–æ—Å—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç—ñ
   - [ ] –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 2 —Å–µ–∫—É–Ω–¥–∏
   - [ ] –ö–ª—ñ—î–Ω—Ç –Ω–µ –º–æ–∂–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –ø–∞—Ä—Ç—ñ—î—é
   - [ ] –ö–ª—ñ—î–Ω—Ç –Ω–µ –º–æ–∂–µ –≤—Ö–æ–¥–∏—Ç–∏ –≤ –º—ñ—Å—Ç–∞

3. **–ë–∏—Ç–≤–∏:**
   - [ ] –ö–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º—É—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—á–∞—Ç–æ–∫ –±–∏—Ç–≤–∏
   - [ ] –ú–µ–Ω—é –≤–∏–±–æ—Ä—É —é–Ω—ñ—Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
   - [ ] –ö–ª—ñ—î–Ω—Ç spawn'–∏—Ç—å—Å—è —è–∫ –≤–∏–±—Ä–∞–Ω–∏–π —é–Ω—ñ—Ç
   - [ ] –ë–∏—Ç–≤–∞ –ø—Ä–∞—Ü—é—î –∑ 2+ –∫–ª—ñ—î–Ω—Ç–∞–º–∏
   - [ ] –ü—ñ—Å–ª—è –±–∏—Ç–≤–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ spectator mode

4. **Edge cases:**
   - [ ] –©–æ —è–∫—â–æ —Ö–æ—Å—Ç –ø–æ–º–µ—Ä —É –±–∏—Ç–≤—ñ?
   - [ ] –©–æ —è–∫—â–æ –∫–ª—ñ—î–Ω—Ç –≤—ñ–¥–∫–ª—é—á–∏–≤—Å—è –ø—ñ–¥ —á–∞—Å –±–∏—Ç–≤–∏?
   - [ ] –©–æ —è–∫—â–æ —Ö–æ—Å—Ç –≤—Ç—ñ–∫ –∑ –±–∏—Ç–≤–∏?
   - [ ] –©–æ —è–∫—â–æ –±–∏—Ç–≤–∞ –±—É–ª–∞ –ø—Ä–æ–≥—Ä–∞–Ω–∞?

### 4.2 –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ç–∞ –±–∞–≥-—Ñ—ñ–∫—Å–∏
**–ß–∞—Å: 15-20 –≥–æ–¥–∏–Ω**

**–¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —è–∫—ñ —Ç—Ä–µ–±–∞ –≤–∏—Ä—ñ—à–∏—Ç–∏:**

1. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:**
   ```csharp
   // –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª—ñ—î–Ω—Ç –±–∞—á–∏—Ç—å –∑–∞—Å—Ç–∞—Ä—ñ–ª—É –ø–æ–∑–∏—Ü—ñ—é
   // –†—ñ—à–µ–Ω–Ω—è: –Ü–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü—ñ—è –º—ñ–∂ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏
   
   private Vec2 _currentPos;
   private Vec2 _targetPos;
   private float _lerpTime = 0f;
   
   void Update()
   {
       _lerpTime += Time.deltaTime;
       float t = _lerpTime / BROADCAST_INTERVAL;
       _currentPos = Vec2.Lerp(_currentPos, _targetPos, t);
   }
   ```

2. **Networking lag:**
   ```csharp
   // –î–æ–¥–∞—Ç–∏ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—é –¥–ª—è –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è
   private Queue<HostGameState> _stateBuffer = new Queue<HostGameState>();
   
   void OnStateReceived(HostGameState state)
   {
       _stateBuffer.Enqueue(state);
       
       // –û–±—Ä–æ–±–ª—è—Ç–∏ –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ
       if (_stateBuffer.Count > 3)
       {
           HostGameState bufferedState = _stateBuffer.Dequeue();
           ApplyState(bufferedState);
       }
   }
   ```

3. **Memory leaks:**
   ```csharp
   // –ó–∞–≤–∂–¥–∏ unsubscribe –≤—ñ–¥ events
   public override void OnRemoveBehavior()
   {
       base.OnRemoveBehavior();
       
       CampaignEvents.HourlyTickEvent.ClearListeners(this);
       _network.OnMessageReceived -= HandleMessage;
       _clientAgents.Clear();
   }
   ```

### 4.3 UI/UX –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
**–ß–∞—Å: 8-10 –≥–æ–¥–∏–Ω**

**–î–æ–¥–∞—Ç–∏ —è–∫—ñ—Å–Ω–∏–π UI:**

1. **Lobby –µ–∫—Ä–∞–Ω:**
   - –°–ø–∏—Å–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
   - –á—Ö —Å—Ç–∞—Ç—É—Å (Ready/Not Ready)
   - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (friendly fire, difficulty)

2. **In-game HUD:**
   - –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
   - Ping –¥–æ —Ö–æ—Å—Ç–∞
   - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤

3. **–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:**
   - "John joined the game"
   - "Battle starting in 5... 4... 3..."
   - "You were killed - spectating"

### 4.4 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
**–ß–∞—Å: 4-6 –≥–æ–¥–∏–Ω**

**README.md:**
```markdown
# Bannerlord Coop Spectator

Simple cooperative mod for Mount & Blade II: Bannerlord

## Features
- Spectate host's campaign
- Join battles as host's troops
- No campaign sync needed

## Installation
1. Download latest release
2. Extract to Bannerlord/Modules/
3. Enable in launcher

## How to Play
**Host:**
1. Start campaign
2. Open console (`) and type: coop_host
3. Share your IP with friends

**Clients:**
1. Start Bannerlord
2. Console: coop_join <host_ip>
3. Spectate and wait for battles!

## Troubleshooting
- Port 7777 must be open
- Both players need same game version
- Disable other coop mods

## Known Issues
- See GitHub issues page

## Credits
Created by [–í–∞—à–µ —ñ–º'—è]
```

---

## –ï–¢–ê–ü 5: –†–µ–ª—ñ–∑ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

### 5.1 –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è
**–ß–∞—Å: 3-5 –≥–æ–¥–∏–Ω**

**–î–µ –æ–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏:**

1. **Nexus Mods** (–≥–æ–ª–æ–≤–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞):
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É –º–æ–¥—É
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏
   - –î–æ–¥–∞—Ç–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏/–≤—ñ–¥–µ–æ
   - –ù–∞–ø–∏—Å–∞—Ç–∏ –æ–ø–∏—Å

2. **ModDB:**
   - Backup platform
   - –Ü–Ω—à–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è

3. **GitHub:**
   - –í–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ (—è–∫—â–æ open source)
   - Issue tracker
   - Wiki –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

4. **Discord:**
   - –í–ª–∞—Å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –∞–±–æ
   - –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –≤ Bannerlord Coop Discord

### 5.2 –ó–±—ñ—Ä feedback
**–ß–∞—Å: ongoing**

**–ü–µ—Ä—à—ñ —Ç–∏–∂–Ω—ñ –ø—ñ—Å–ª—è —Ä–µ–ª—ñ–∑—É:**
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ crash reports
- –í—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –§—ñ–∫—Å–∏—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏
- –ó–±–∏—Ä–∞—Ç–∏ —ñ–¥–µ—ó –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π

### 5.3 –ú–∞–π–±—É—Ç–Ω—ñ features (v2.0+)

**–ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
1. Voice chat —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
2. –ë—ñ–ª—å—à–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å (respawn, friendly fire)
3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—ñ—Å–ª—è –±–∏—Ç–≤–∏
4. –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –±—ñ–ª—å—à–µ –Ω—ñ–∂ 4 –≥—Ä–∞–≤—Ü—ñ–≤
5. Custom scenarios –¥–ª—è –±–∏—Ç–≤
6. Spectator camera –ø—ñ–¥ —á–∞—Å –±–∏—Ç–≤–∏ (—è–∫—â–æ –ø–æ–º–µ—Ä)

---

## üìä –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

**–ú–æ–≤–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è:**
- C# (–æ—Å–Ω–æ–≤–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞)
- XML (–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è, UI)

**–§—Ä–µ–π–º–≤–æ—Ä–∫–∏/–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:**
- .NET Framework 4.7.2+
- Harmony (–ø–∞—Ç—á–∏–Ω–≥ –º–µ—Ç–æ–¥—ñ–≤ –≥—Ä–∏)
- Newtonsoft.Json (—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è)
- System.Net.Sockets (networking)

**–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏:**
- Visual Studio 2022
- Cursor (AI –∞—Å–∏—Å—Ç–µ–Ω—Ç)
- dnSpy (–¥–µ–∫–æ–º–ø—ñ–ª—è—Ü—ñ—è DLL –≥—Ä–∏ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è)
- ILSpy (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- 2+ –∫–æ–ø—ñ—ó Bannerlord
- –í—ñ—Ä—Ç—É–∞–ª—å–Ω—ñ –º–∞—à–∏–Ω–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- Hamachi/ZeroTier –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç

---

## üéì –†–µ—Å—É—Ä—Å–∏ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è

### –û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:
- [Bannerlord Modding Documentation](https://docs.bannerlordmodding.com)
- [TaleWorlds Forums - Modding](https://forums.taleworlds.com/index.php?forums/modding.196/)

### Community —Ä–µ—Å—É—Ä—Å–∏:
- [Bannerlord Modding Discord](https://discord.gg/bannerlord)
- [GitHub - Bannerlord Community](https://github.com/BannerlordCommunity)

### YouTube —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏:
- "Bannerlord Modding Tutorial" series
- "How to create Bannerlord behaviors"

### –ü—Ä–∏–∫–ª–∞–¥–∏ –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –∫–æ–¥—É:
- [Bannerlord.Harmony](https://github.com/BUTR/Bannerlord.Harmony)
- [Bannerlord.ModuleManager](https://github.com/BUTR/Bannerlord.ModuleManager)
- –Ü–Ω—à—ñ coop –º–æ–¥–∏ –Ω–∞ GitHub

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ì—Ä–∞ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —ñ –≤—Å–µ –ª–∞–º–∞—î—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Harmony –¥–ª—è –ø–∞—Ç—á–∏–Ω–≥–∞ (–±—ñ–ª—å—à —Å—Ç—ñ–π–∫–µ –¥–æ –æ–Ω–æ–≤–ª–µ–Ω—å)
- –ú—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä—è–º—ñ –∑–º—ñ–Ω–∏ game files
- –¢—Ä–∏–º–∞—Ç–∏ –∫–æ–¥ –º–æ–¥—É–ª—å–Ω–∏–º –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Multiplayer API –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π
**–†—ñ—à–µ–Ω–Ω—è:**
- –î–µ–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π MP –∫–æ–¥
- –í–∏–≤—á–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ MP –º–æ–¥–∏
- –ü–∏—Ç–∞—Ç–∏ –Ω–∞ —Ñ–æ—Ä—É–º–∞—Ö/Discord

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°–∫–ª–∞–¥–Ω–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∑ –¥—Ä—É–∑—è–º–∏
**–†—ñ—à–µ–Ω–Ω—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Hamachi –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ
- –ó–∞–ø—É—Å–∫–∞—Ç–∏ 2 –∫–æ–ø—ñ—ó –≥—Ä–∏ –Ω–∞ –æ–¥–Ω–æ–º—É –ü–ö (–ø–æ—Ç—Ä–µ–±—É—î –ø–æ—Ç—É–∂–Ω–µ –∑–∞–ª—ñ–∑–æ)
- –ó–Ω–∞–π—Ç–∏ —Ç–µ—Å—Ç–µ—Ä—ñ–≤ —É Bannerlord Modding —Å–ø—ñ–ª—å–Ω–æ—Ç—ñ

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∫–∞—Ä–∂–∞—Ç—å—Å—è –Ω–∞ –∫—Ä–∞—à—ñ
**–†—ñ—à–µ–Ω–Ω—è:**
- –î–æ–¥–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É crash reports
- –ü–æ–ø—Ä–æ—Å–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –Ω–∞–¥–∞–≤–∞—Ç–∏ log files

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø—ñ—Ö—É

**–ü—ñ—Å–ª—è 1 –º—ñ—Å—è—Ü—è —Ä–µ–ª—ñ–∑—É:**
- [ ] 1000+ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å –Ω–∞ Nexus
- [ ] –°–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥ 4+ –∑—ñ—Ä–æ–∫
- [ ] <5 –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –±–∞–≥—ñ–≤ –≤ issue tracker
- [ ] –•–æ—á–∞ –± 10 –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —è–∫—ñ –≥—Ä–∞—é—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ

**–ü—ñ—Å–ª—è 3 –º—ñ—Å—è—Ü—ñ–≤:**
- [ ] 5000+ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- [ ] –ó–≥–∞–¥–∫–∏ —É YouTube –≤—ñ–¥–µ–æ
- [ ] –ó–∞–ø–∏—Ç–∏ –Ω–∞ features –≤—ñ–¥ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏
- [ ] –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ –∑ —ñ–Ω—à–∏–º–∏ –º–æ–¥–¥–µ—Ä–∞–º–∏

---

## üí° –ü–æ—Ä–∞–¥–∏ –≤—ñ–¥ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö –º–æ–¥–¥–µ—Ä—ñ–≤

1. **–ü–æ—á–∏–Ω–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ** - –Ω–µ –Ω–∞–º–∞–≥–∞–π—Ç–µ—Å—è –∑—Ä–æ–±–∏—Ç–∏ –≤—Å–µ –≤—ñ–¥—Ä–∞–∑—É
2. **–¢–µ—Å—Ç—É–π—Ç–µ —á–∞—Å—Ç–æ** - –∫–æ–∂–Ω–∞ –Ω–æ–≤–∞ feature = —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
3. **–°–ª—É—Ö–∞–π—Ç–µ —Å–ø—ñ–ª—å–Ω–æ—Ç—É** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–Ω–∞–π–¥—É—Ç—å –±–∞–≥–∏ —è–∫—ñ –≤–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏
4. **–î–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ –∫–æ–¥** - —á–µ—Ä–µ–∑ –º—ñ—Å—è—Ü—å –≤–∏ –∑–∞–±—É–¥–µ—Ç–µ —â–æ —Ä–æ–±–∏—Ç—å —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è
5. **–ë–µ–∫–∞–ø–∏** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Git –∑ –ø–µ—Ä—à–æ–≥–æ –¥–Ω—è
6. **–ù–µ –∑–¥–∞–≤–∞–π—Ç–µ—Å—è** - –ø–µ—Ä—à—ñ —Ç–∏–∂–Ω—ñ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à—ñ, –∞–ª–µ —Å—Ç–∞—î –ª–µ–≥—à–µ

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–æ —Ä–µ–ª—ñ–∑—É

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏:**
- [ ] –ú–æ–¥ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –ü—Ä–∞—Ü—é—î –Ω–∞ —á–∏—Å—Ç—ñ–π –≤–µ—Ä—Å—ñ—ó –≥—Ä–∏
- [ ] Tested –∑ 2+ –≥—Ä–∞–≤—Ü—è–º–∏
- [ ] –ù–µ–º–∞—î –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∫—Ä–∞—à—ñ–≤
- [ ] Log —Ñ–∞–π–ª–∏ —á–∏—Å—Ç—ñ (–±–µ–∑ spam warnings)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**
- [ ] README –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
- [ ] CHANGELOG –∑ –≤–µ—Ä—Å—ñ—è–º–∏
- [ ] Known issues —Å–ø–∏—Å–æ–∫
- [ ] FAQ –¥–ª—è —Ç–∏–ø–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å

**–ü—É–±–ª—ñ–∫–∞—Ü—ñ—è:**
- [ ] –°—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–∞ Nexus Mods –≥–æ—Ç–æ–≤–∞
- [ ] –°–∫—Ä—ñ–Ω—à–æ—Ç–∏/–≤—ñ–¥–µ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è
- [ ] GitHub repository (—è–∫—â–æ open source)
- [ ] Discord —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

---

## üîÆ –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–µ –±–∞—á–µ–Ω–Ω—è

**–í–µ—Ä—Å—ñ—è 1.0** (–±–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª):
- Spectator mode –Ω–∞ –∫–∞—Ä—Ç—ñ
- Join –¥–æ –±–∏—Ç–≤
- –í–∏–±—ñ—Ä —é–Ω—ñ—Ç–∞

**–í–µ—Ä—Å—ñ—è 1.5** (–ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è):
- Voice chat
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ë—ñ–ª—å—à–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

**–í–µ—Ä—Å—ñ—è 2.0** (—Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç):
- Custom scenarios
- Co-op –∫–≤–µ—Å—Ç–∏ (—è–∫—â–æ –º–æ–∂–ª–∏–≤–æ)
- –ï–∫–æ–Ω–æ–º—ñ–∫–∞ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∞ –º—ñ–∂ –≥—Ä–∞–≤—Ü—è–º–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

**–í–µ—Ä—Å—ñ—è 3.0** (–ø–æ–≤–Ω–∏–π –∫–æ–æ–ø?):
- –Ø–∫—â–æ —Å–ø—ñ–ª—å–Ω–æ—Ç–∞ —Ö–æ—á–µ - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –µ–≤–æ–ª—é—Ü—ñ—ó —É full coop
- –ê–ª–µ —Ü–µ –≤–∂–µ —ñ–Ω—à–∏–π –ø—Ä–æ—î–∫—Ç –Ω–∞ —Ä–æ–∫–∏ –≤–ø–µ—Ä–µ–¥

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

**–î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
- Nexus Mods –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
- GitHub Issues
- Discord —Å–µ—Ä–≤–µ—Ä

**–î–ª—è —ñ–Ω—à–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:**
- Open source –Ω–∞ GitHub
- –î–µ—Ç–∞–ª—å–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥—ñ
- Wiki –∑ —Ç–µ—Ö–Ω—ñ—á–Ω–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏

---

## ‚è∞ –§—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–∞–π–º–ª–∞–π–Ω

```
–ú—ñ—Å—è—Ü—å 1: –ù–∞–≤—á–∞–Ω–Ω—è + –±–∞–∑–æ–≤–∏–π networking
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 1-2: Dev environment + Hello World
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 3-4: TCP server/client –ø—Ä–∞—Ü—é—î
‚îî‚îÄ Milestone: –ú–æ–∂—É –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–∞–º–∏

–ú—ñ—Å—è—Ü—å 2: Spectator mode
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 1: Broadcasting –ø–æ–∑–∏—Ü—ñ—ó —Ö–æ—Å—Ç–∞
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 2: UI –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 3: –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª—é
‚îî‚îÄ Milestone: –ö–ª—ñ—î–Ω—Ç –º–æ–∂–µ –¥–∏–≤–∏—Ç–∏—Å—å —è–∫ –≥—Ä–∞—î —Ö–æ—Å—Ç

–ú—ñ—Å—è—Ü—å 3-4: Battle integration
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 1: –î–µ—Ç–µ–∫—Ü—ñ—è –±–∏—Ç–≤
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 2-3: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ MP (—Å–∫–ª–∞–¥–Ω–æ!)
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 4: –ú–µ–Ω—é –≤–∏–±–æ—Ä—É —é–Ω—ñ—Ç–∞
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 5: Spawn system
‚îî‚îÄ Milestone: –ú–æ–∂–µ–º–æ –≥—Ä–∞—Ç–∏ —Ä–∞–∑–æ–º —É –±–∏—Ç–≤—ñ

–ú—ñ—Å—è—Ü—å 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 1-2: –ë–∞–≥-—Ñ—ñ–∫—Å–∏
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 3: UI/UX polish
‚îî‚îÄ Milestone: –°—Ç–∞–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è

–ú—ñ—Å—è—Ü—å 6: –†–µ–ª—ñ–∑
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 2: –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è
‚îú‚îÄ –¢–∏–∂–¥–µ–Ω—å 3-4: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îî‚îÄ Milestone: –í–µ—Ä—Å—ñ—è 1.0 –Ω–∞ Nexus!
```

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

**–¶—å–æ–≥–æ —Ç–∏–∂–Ω—è:**
1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Visual Studio —Ç–∞ .NET SDK
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π Bannerlord –º–æ–¥ –ø—Ä–æ—î–∫—Ç
3. –°–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ —ñ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ Hello World

**–¶—å–æ–≥–æ –º—ñ—Å—è—Ü—è:**
1. –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –ï—Ç–∞–ø 1 (–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞)
2. –ó—Ä–æ–±–∏—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π TCP networking –º—ñ–∂ –¥–≤–æ–º–∞ –∫–ª—ñ—î–Ω—Ç–∞–º–∏
3. –ü–æ—á–∞—Ç–∏ –ï—Ç–∞–ø 2 (Spectator)

**–ß–µ—Ä–µ–∑ 3 –º—ñ—Å—è—Ü—ñ:**
1. –ú–∞—Ç–∏ —Ä–æ–±–æ—á–∏–π spectator mode
2. –ü–æ—á–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –Ω–∞–¥ battle integration
3. –ó–Ω–∞–π—Ç–∏ –ø–µ—Ä—à–∏—Ö —Ç–µ—Å—Ç–µ—Ä—ñ–≤ —É —Å–ø—ñ–ª—å–Ω–æ—Ç—ñ

**–ß–µ—Ä–µ–∑ 6 –º—ñ—Å—è—Ü—ñ–≤:**
1. –†–µ–ª—ñ–∑ –≤–µ—Ä—Å—ñ—ó 1.0 –Ω–∞ Nexus Mods
2. –ó–±–∏—Ä–∞—Ç–∏ feedback
3. –ü–ª–∞–Ω—É–≤–∞—Ç—ñ –≤–µ—Ä—Å—ñ—é 1.1

---

## üéâ –í–∏—Å–Ω–æ–≤–æ–∫

–¶–µ–π –ø—Ä–æ—î–∫—Ç **—Ä–µ–∞–ª—å–Ω–æ –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω–∏–π** –∑–∞ 3-6 –º—ñ—Å—è—Ü—ñ–≤ –ø—Ä–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ!

**–ö–ª—é—á–æ–≤—ñ —Ñ–∞–∫—Ç–æ—Ä–∏ —É—Å–ø—ñ—Ö—É:**
‚úÖ –†–æ–∑—É–º–Ω–∏–π scope - –Ω–µ –Ω–∞–º–∞–≥–∞—î–º–æ—Å—è –∑—Ä–æ–±–∏—Ç–∏ –ø–æ–≤–Ω–∏–π –∫–æ–æ–ø  
‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö —Å–∏—Å—Ç–µ–º –≥—Ä–∏  
‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—ñ–¥ AI (Cursor) –¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è  
‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ —Å–ø—ñ–ª—å–Ω–æ—Ç–∞ –¥–ª—è –¥–æ–ø–æ–º–æ–≥–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è  

**–ü–∞–º'—è—Ç–∞–π—Ç–µ:**
- –ü–µ—Ä—à—ñ —Ç–∏–∂–Ω—ñ –±—É–¥—É—Ç—å —Å–∫–ª–∞–¥–Ω—ñ (–Ω–∞–≤—á–∞–Ω–Ω—è)
- –ü–æ—Ç—ñ–º —Å—Ç–∞—î –ª–µ–≥—à–µ (—î routine)
- –ù–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ - –Ω–µ –∑–¥–∞–≤–∞—Ç–∏—Å—è –ø—Ä–∏ –ø–µ—Ä—à–∏—Ö –±–∞–≥–∞—Ö
- –ö–æ–∂–µ–Ω –≤–µ–ª–∏–∫–∏–π –º–æ–¥ –ø–æ—á–∏–Ω–∞–≤—Å—è –∑ –ø—Ä–æ—Å—Ç–æ–≥–æ Hello World

**–ì–æ—Ç–æ–≤—ñ –ø–æ—á–∞—Ç–∏?** üéÆ

–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Visual Studio —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–µ—Ä—à–∏–π Bannerlord –º–æ–¥ –ø—Ä–æ—î–∫—Ç!
